========================================================================
    控制台应用程序: CameraServer 项目概述
------------------------------------------------------------------------
项目名 : 智能监控
程序名 : CameraServer
作  者 : 王磊/任威平
用  途 : 监控指定文件夹内CameraDriver存入的最新图像,
         处理后发送到用户界面UserUI.
版  权 : 霍比特人
------------------------------------------------------------------------
版本记录
版本号  开发人员      时间      描述
1.0     王磊/任威平   2016.4.4  整合旧版本到多进程架构
========================================================================

/////////////////////////////////////////////////////////////////////////////
┬ Include:公共库目录
│  │
│  ├ ArWatch:计时器类
│  │
│  ├ CommonDefine:定义结构体和宏
│  │
│  ├ CommonFunc:文件系统静态工具类
│  │
│  ├ CommonInclude:项目完全头文件
│  │
│  ├ Detector:算法类
│  │
│  ├ DirWatcher:文件夹监控类
│  │
│  ├ Queue:循环队列模板类
│  │
│  ├ Thread:线程类
│  │
│  ├ TmtSocket:网络通信类
│  │
│  ├ VisionStruct:网络通信和图像数据结构
│  │
│  └ XMLOperator:XML文件操作工具类
│
└ Demo\CameraServer:项目目录
       │
       ├ CameraServer:相机服务类
	   │
       ├ MessageServer:消息管理服务
	   │
       ├ CameraServerState:程序静态数据
	   │
       └ MainFunc:程序入口函数

/////////////////////////////////////////////////////////////////////////////
架构:
           ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
           ┃ CameraServer.exe                 ┌───────┐    ┃
           ┃                               ┌▶├ CameraServer │    ┃
           ┃                               │ └───────┘    ┃
           ┃ ┌───────┐            │ ┌───────┐    ┃
  ┌─Ask──▶├ MessageServer│─on/off/set┼▶├ CameraServer │    ┃
  │┌Msg ──└───────┘◀─notify ─┤ └───────┘    ┃
  ││     ┃                               │          :            ┃
  ││     ┃                               │ ┌─────────┐┃
  ││     ┃                               └▶├ CameraServer     │┃
  ││     ┃                                  │ └ DirWatchServer│◀─Disk
  ││     ┃                                  └─────────┘┃ ▲
  │▼     ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛ │
┏━━━━━┓                                          ┏━━━━━━━│┓
┃UserUI.exe┃                                          ┃CameraDriver.exe┃
┗━━━━━┛                                          ┗━━━━━━━━┛
/////////////////////////////////////////////////////////////////////////////
类图:
 ┌───┐    ┌─────┐     ┌─────┐ ┌────┐ ┌────┐
 ├Thread│    ├TmtSocket │     ├DirWatcher│ ├Queue<T>│ ├Detector│
 └───┘    └─────┘     └─────┘ └────┘ └────┘
  ▲▲▲▲            ▲                  ▲        △             ▲
  ││││            │                  │        │ ┌─────┴───┐
  ││││            │                  │        │ ├BackgroundDetector│ 
  ││││            │                  │        │ └─────────┘
  │││└──────│─────────│────│─────┐        △
  ││└───────│───────┐  │        │          │        │
  │└──────┐  │              │  │        └───┐  │        │
┌┴────┐    │  │              │  │                │  │        │
├TaskThread│    │  │              │  │                │  │        │
└─────┘    │  │              │  │                │  │        │
  ▲              │  │              │  │                │  │        │
┌┴─────┐┌┴─┴─────┐┌┴─┴──────┐  │  │        │
├TaskThreadEx│├TmtSocketServer │├ DirWatcherServer │◁-│─│──┐  │
└──────┘└────────┘│ └m_fileNameQueue┼─┘  │    │  │
                                    └─────────┘      │    │  │
                                                ┌───────┴─┐│  │
                                                ├CameraServer      ││  │
                                                │├pDirWatchServer ┼┘  │
                                                │└ m_Detector ──┼──┘
                                                └─────────┘
/////////////////////////////////////////////////////////////////////////////
